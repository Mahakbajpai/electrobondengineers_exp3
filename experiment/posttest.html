<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ester Hydrolysis Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .question { font-weight: bold; margin-top: 20px; }
    .answers label { display: block; margin: 5px 0; }
    #submit { margin-top: 20px; }
    #results { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>

  <h2>Ester Hydrolysis Quiz</h2>
  <div id="quiz"></div>
  <button id="submit">Submit Quiz</button>
  <div id="results"></div>

  <script>
    // Quiz data stored as JSON
    const myQuestions = [
      {
        question: "What role does the acid catalyst play in ester hydrolysis?",
        answers: {
          a: "It speeds up the reaction without being consumed",
          b: "It gets consumed during the reaction",
          c: "It prevents the reaction",
          d: "It converts ester to ketone"
        },
        correctAnswer: "a",
        explanation: "Correct! The acid catalyst lowers activation energy and is regenerated.",
        difficulty: "intermediate"
      },
      {
        question: "Which graph is used to determine the rate constant for a first-order ester hydrolysis reaction?",
        answers: {
          a: "Concentration vs. time",
          b: "Logarithm of concentration vs. time",
          c: "Rate vs. concentration",
          d: "Volume vs. time"
        },
        correctAnswer: "b",
        explanation: "Correct! Plotting ln[ester] vs. time yields a straight line for first-order reactions.",
        difficulty: "intermediate"
      },
      {
        question: "If the rate constant doubles when temperature increases by 10°C, what does this imply?",
        answers: {
          a: "The reaction is temperature-independent",
          b: "The reaction is highly sensitive to temperature",
          c: "The reaction is zero order",
          d: "The catalyst is ineffective"
        },
        correctAnswer: "b",
        explanation: "Correct! This follows the Arrhenius equation and indicates sensitivity.",
        difficulty: "advanced"
      },
      {
        question: "What units are typically used for the rate constant in a first-order reaction?",
        answers: {
          a: "mol/L",
          b: "L/mol·s",
          c: "s⁻¹",
          d: "mol/L·s"
        },
        correctAnswer: "c",
        explanation: "Correct! For first-order reactions, rate constant units are reciprocal time.",
        difficulty: "beginner"
      },
      {
        question: "Which of these can cause errors in determining the rate constant of ester hydrolysis?",
        answers: {
          a: "Impurities in reagents",
          b: "Inaccurate temperature control",
          c: "Errors in pH measurement",
          d: "All of the above"
        },
        correctAnswer: "d",
        explanation: "Correct! All these can cause errors.",
        difficulty: "intermediate"
      }
    ];

    // Core logic to build and display the quiz
    (function () {
      const quizContainer = document.getElementById("quiz");
      const resultsContainer = document.getElementById("results");
      const submitButton = document.getElementById("submit");

      function buildQuiz() {
        const output = [];

        myQuestions.forEach((currentQuestion, questionNumber) => {
          const answers = [];

          for (let letter in currentQuestion.answers) {
            answers.push(
              `<label>
                <input type="radio" name="question${questionNumber}" value="${letter}">
                ${letter}: ${currentQuestion.answers[letter]}
              </label>`
            );
          }

          output.push(
            `<div class="question">${currentQuestion.question}</div>
             <div class="answers">${answers.join("")}</div>`
          );
        });

        quizContainer.innerHTML = output.join("");
      }

      function showResults() {
        const answerContainers = quizContainer.querySelectorAll(".answers");
        let numCorrect = 0;
        let resultDetails = "";

        myQuestions.forEach((currentQuestion, questionNumber) => {
          const answerContainer = answerContainers[questionNumber];
          const selector = `input[name=question${questionNumber}]:checked`;
          const userAnswer = (answerContainer.querySelector(selector) || {}).value;

          if (userAnswer === currentQuestion.correctAnswer) {
            numCorrect++;
            answerContainer.style.color = "green";
          } else {
            answerContainer.style.color = "red";
          }

          resultDetails += `<p><strong>Q${questionNumber + 1}:</strong> ${currentQuestion.question}<br>
          <strong>Your Answer:</strong> ${userAnswer || "No answer"}<br>
          <strong>Correct Answer:</strong> ${currentQuestion.correctAnswer} - ${currentQuestion.answers[currentQuestion.correctAnswer]}<br>
          <strong>Explanation:</strong> ${currentQuestion.explanation}</p>`;
        });

        resultsContainer.innerHTML = `<p>${numCorrect} out of ${myQuestions.length} correct.</p>${resultDetails}`;
      }

      buildQuiz();
      submitButton.addEventListener("click", showResults);
    })();
  </script>

</body>
</html>
